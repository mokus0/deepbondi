#
#  <aliases>
#    Copyright 2007 James Cook - All Rights Reserved.
#
#  Originally based on MIT Project Athena's TCSH scripts, circa 1990.
#  These have long since taken on a life of their own.
#

alias l='ls -lg'
alias ll='ls -lag'
alias lsd='ls -ld'

alias hexdump='hexdump -C'

# toggle keymaps in X11 by typing 'aoeu' or 'asdf'
alias asdf='xmodmap /deepbondi/init/X11/keymaps/dvorak.pke >&/dev/null'
alias aoeu='xmodmap /deepbondi/init/X11/keymaps/qwerty.pke >&/dev/null'

#
# aliases to catch various common typos
#
# "r/eal" = "clear" with right hand off-by-one on dvorak
# some versions of bash forbid '/' in alias names, so this
# is a function instead.
function r/eal { clear; }

# "c;ear" = "clear" with right hand off-by-one on qwerty
function c {
	# if there's a real program called "c", call it
	if cmdExists c; then
		`which c` "$@"
	# otherwise, if we were called without args, rig up the trap door
	elif [ X"$*" == X ]; then
		echo "$0: c: command not found"
		
		function ear {
			clear
			unset -f ear
		}
	fi
}

# "je" = "cd" when accidentally typing in qwerty on a dvorak keyboard
alias je=cd

#
# Platform-specific aliases
#
if [ X"$os" == XDarwin ]; then
	function disktool {
		if cmdExists diskutil; then
			echo "disktool is depracted; use diskutil instead"
			echo
		fi
		
		disktool "$@"
	}
	
	alias eject='diskutil eject'
fi

#
# aliases for ghci addicts
#
function :b { ghci -e ":browse $*"; }
function :i { ghci -e ":info $*"; }
function :t { ghci -e ":type $*"; }
alias :q=exit

#
# various conditionally defined aliases
#
if cmdExists gls; then
  alias ls='gls --color=auto'
elif [ X`ls --color=auto >/dev/null 2>&1; echo $?` == X0 ]; then
  alias ls='ls --color=auto'
elif cmdExists colorls; then
  alias ls='colorls'
fi

#
# Read user's aliases
#
if [ -r "${user_bash_initdir}/aliases" ]; then
  source "${user_bash_initdir}/aliases"
fi
